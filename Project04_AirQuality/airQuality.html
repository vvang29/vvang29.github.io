<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script><!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">    <title>Document</title>
    <style>
        *{
            color:white;
            /* text-shadow: 0 0 5px black; */
        }
        body{
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.432), rgba(0, 0, 0, 0.445)), url("https://c.tenor.com/T8V7Eo58TQQAAAAd/sunset-sky.gif") no-repeat center;        
            background-size: cover;
            background-attachment: sticky;
        }
        span{
            font-weight: bolder;
            font-size: 2.5rem;
        }
        /* .demo p{
            margin:5%;
        } */
        .container{
            padding-bottom: 20px;
        }
        
        .dataShow{
            display: flex;
            justify-content: space-around;
            font-size: 2rem;
        }
        .dataShow>div{
            /* border:3px black solid; */
            width:100%;
            text-align: center;
        }
        .demo,.AQIdemo,.STATUSdemo{
            text-shadow: 0 0 5px black;
            display: flex;
            flex-direction: column;
            align-items: center;
        }    
        .colorGreen{
            color:green;
            border:3px dashed blue;
        }
        
       
        nav{
            text-align: center;
        }
        
    </style>
</head>
<body>
   
    <div class="container">
        <div class="row">
        <div class="header h1 col-sm-12">全台空氣品質資訊</div>
        <img src="" alt="">
        <div class="row ">
            <nav class="col-sm-12"aria-label="Page navigation example">
                <ul class="pagination">
                  <li class="page-item"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item"><a class="page-link" href="#">4</a></li>
                  <li class="page-item"><a class="page-link" href="#">5</a></li>
                </ul>
              </nav>
        </div>
        <div class="dataShow">
            <div class="city">
                <span>觀測站</span>
                <div class="demo"></div>
            </div>
            <div class="AQI">
                <span>AQI數值</span>
                <div class="AQIdemo"></div>
            </div>
            <div class="Status">
                <span>空氣品質</span>
                <div class="STATUSdemo"></div>
            </div>
        </div>

    </div>

    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <!-- JavaScript Bundle with Popper -->
    <script>
$(document).ready(function(){
    $.ajax({
        url:"https://data.epa.gov.tw/api/v2/aqx_p_432?api_key=e8dd42e6-9b8b-43f8-991e-b3dee723a52d&limit=1000&sort=ImportDate desc&format=JSON",
        success:function(data){
            console.log("it works!");//載入成功
            //判斷式：加入顏色
            
            var arr = data;
            var page1 = $("li").eq(0);
            var page2 = $("li").eq(1);
            var page3 = $("li").eq(2);
            var page4 = $("li").eq(3);
            var page5 = $("li").eq(4);
            var page6 = $("li").eq(5);

            //用demo(null)裝資料並呈現在畫面上
            //這部分是剛載入的畫面
            let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 0; i < 15; i++){
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);
            

            //這部分是第一頁的畫面
            page1.click(function(){
                let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 0; i < 15; i++){
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);
                // alert("abc");
                // $(".demo").text(data[i].descriptionFilterHtml)

            });
            //這部分是第二頁的畫面
            page2.click(function(){
                let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 15; i < 30; i++){
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);                // alert("def");

            });
            //這部分是第三頁的畫面
            page3.click(function(){
                let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 30; i < 45; i++){
                    // show += data.records[i].sitename+'<br>';
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);
                // alert("ghi");

            });
            page4.click(function(){
                let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 45; i < 60; i++){
                    // show += data.records[i].sitename+'<br>';
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);
                // alert("ghi");

            });

            page5.click(function(){
                let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 60; i < 75; i++){
                    // show += data.records[i].sitename+'<br>';
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);
                // alert("ghi");

            });
            page6.click(function(){
                let demo = '';
                let AQIdemo = '';
                let STATUSdemo = '';
                for(let i = 75; i < 86; i++){
                    // show += data.records[i].sitename+'<br>';
                    demo += data.records[i].sitename +" "+ '<br>';            
                    AQIdemo += data.records[i].aqi +'<br>';
                    STATUSdemo += data.records[i].status+'<br>';
                }
                $(".demo").html(demo);//將HTML demo內部改寫
                $(".AQIdemo").html(AQIdemo);
                $(".STATUSdemo").html(STATUSdemo);
                // alert("ghi");
            
            });

        },
        error:function(){
            console.log("it does not work...");
        }
        
    })
})

    </script>
</body>
</html>